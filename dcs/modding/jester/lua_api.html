<!DOCTYPE HTML>
<html lang="en" class="hb_light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Lua API - Heatblur F-14 Tomcat</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Manual of the Heatblur F-14 Tomcat by Heatblur Simulations.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../theme/visual.css">
        <link rel="stylesheet" href="../../../theme/hb_light.css">
        <link rel="stylesheet" href="../../../theme/hb_dark.css">
        <link rel="stylesheet" href="../../../theme/pdf.css">
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "hb_dark" : "hb_light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('hb_light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <div class="menu-logo"><img src="https://github.com/OfficialDSplayer/f-14-manual/src/img/f14line.svg"></div>

                <ol class="chapter"><li class="chapter-item affix "><a href="../../../f14_manual.html">F-14 Manual</a></li><li class="chapter-item "><a href="../../../intro/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../intro/definitions.html"><strong aria-hidden="true">1.1.</strong> Definitions</a></li><li class="chapter-item "><a href="../../../intro/history.html"><strong aria-hidden="true">1.2.</strong> Historical Background</a></li><li class="chapter-item "><a href="../../../intro/air_to_air.html"><strong aria-hidden="true">1.3.</strong> Air to Air Kills</a></li><li class="chapter-item "><a href="../../../intro/first_flights.html"><strong aria-hidden="true">1.4.</strong> First Flights</a></li><li class="chapter-item "><a href="../../../intro/specification.html"><strong aria-hidden="true">1.5.</strong> Technical Specification</a></li></ol></li><li class="chapter-item "><a href="../../../cockpit/overview.html"><strong aria-hidden="true">2.</strong> Cockpit Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../cockpit/pilot/overview.html"><strong aria-hidden="true">2.1.</strong> Pilot Cockpit</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../cockpit/pilot/left_console.html"><strong aria-hidden="true">2.1.1.</strong> Left Side Console</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/left_vertical_console.html"><strong aria-hidden="true">2.1.2.</strong> Left Vertical Console</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/left_knee_panel.html"><strong aria-hidden="true">2.1.3.</strong> Left Knee Panel</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/left_instrument_panel.html"><strong aria-hidden="true">2.1.4.</strong> Left Instrument Panel</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/left_windshield_frame.html"><strong aria-hidden="true">2.1.5.</strong> Left Windshield Frame</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/center_panel.html"><strong aria-hidden="true">2.1.6.</strong> Center Panel</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/right_windshield_frame.html"><strong aria-hidden="true">2.1.7.</strong> Right Windshield Frame</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/right_instrument_panel.html"><strong aria-hidden="true">2.1.8.</strong> Right Instrument Panel</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/right_knee_panel.html"><strong aria-hidden="true">2.1.9.</strong> Right Knee Panel</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/right_console.html"><strong aria-hidden="true">2.1.10.</strong> Right Side Console</a></li><li class="chapter-item "><a href="../../../cockpit/pilot/canopy_control_handle.html"><strong aria-hidden="true">2.1.11.</strong> Canopy Control Handle</a></li></ol></li><li class="chapter-item "><a href="../../../cockpit/rio/overview.html"><strong aria-hidden="true">2.2.</strong> RIO Cockpit</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../cockpit/rio/left_console.html"><strong aria-hidden="true">2.2.1.</strong> Left Side Console</a></li><li class="chapter-item "><a href="../../../cockpit/rio/left_vertical_console.html"><strong aria-hidden="true">2.2.2.</strong> Left Vertical Console</a></li><li class="chapter-item "><a href="../../../cockpit/rio/left_instrument_console.html"><strong aria-hidden="true">2.2.3.</strong> Left Instrument Panel</a></li><li class="chapter-item "><a href="../../../cockpit/rio/center_console.html"><strong aria-hidden="true">2.2.4.</strong> Center Panel</a></li><li class="chapter-item "><a href="../../../cockpit/rio/center_console.html"><strong aria-hidden="true">2.2.5.</strong> Center Console</a></li><li class="chapter-item "><a href="../../../cockpit/rio/footwells.html"><strong aria-hidden="true">2.2.6.</strong> Left and Right Footwells</a></li><li class="chapter-item "><a href="../../../cockpit/rio/right_instrument_console.html"><strong aria-hidden="true">2.2.7.</strong> Right Instrument Panel</a></li><li class="chapter-item "><a href="../../../cockpit/rio/right_knee_panel.html"><strong aria-hidden="true">2.2.8.</strong> Right Knee Panel</a></li><li class="chapter-item "><a href="../../../cockpit/rio/right_vertical_console.html"><strong aria-hidden="true">2.2.9.</strong> Right Vertical Console</a></li><li class="chapter-item "><a href="../../../cockpit/rio/right_console.html"><strong aria-hidden="true">2.2.10.</strong> Right Side Console</a></li><li class="chapter-item "><a href="../../../cockpit/rio/canopy_control_handle.html"><strong aria-hidden="true">2.2.11.</strong> Canopy Control Handle</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../systems/overview.html"><strong aria-hidden="true">3.</strong> Systems Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/flight_controls_gear/overview.html"><strong aria-hidden="true">3.1.</strong> Flight Controls and Gear</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/flight_controls_gear/cadc.html"><strong aria-hidden="true">3.1.1.</strong> Central Air Data Computer (CADC)</a></li><li class="chapter-item "><a href="../../../systems/flight_controls_gear/flight_controls.html"><strong aria-hidden="true">3.1.2.</strong> Flight Controls & AFCS</a></li><li class="chapter-item "><a href="../../../systems/flight_controls_gear/wing_sweep.html"><strong aria-hidden="true">3.1.3.</strong> Wing-Sweep System</a></li><li class="chapter-item "><a href="../../../systems/flight_controls_gear/gear_ground_handling.html"><strong aria-hidden="true">3.1.4.</strong> Gear & Ground Handling</a></li></ol></li><li class="chapter-item "><a href="../../../systems/engines_and_fuel_systems/overview.html"><strong aria-hidden="true">3.2.</strong> Engines & Fuel Systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/engines_and_fuel_systems/engines.html"><strong aria-hidden="true">3.2.1.</strong> Engines</a></li><li class="chapter-item "><a href="../../../systems/engines_and_fuel_systems/fuel_system.html"><strong aria-hidden="true">3.2.2.</strong> Fuel System</a></li></ol></li><li class="chapter-item "><a href="../../../systems/nav_com/overview.html"><strong aria-hidden="true">3.3.</strong> Navigation & Communication</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/nav_com/nav_sys.html"><strong aria-hidden="true">3.3.1.</strong> Navigation System</a></li><li class="chapter-item "><a href="../../../systems/nav_com/ins.html"><strong aria-hidden="true">3.3.2.</strong> INS</a></li><li class="chapter-item "><a href="../../../systems/nav_com/ahrs.html"><strong aria-hidden="true">3.3.3.</strong> Attitude and Heading Reference Set (AHRS)</a></li><li class="chapter-item "><a href="../../../systems/nav_com/tacan.html"><strong aria-hidden="true">3.3.4.</strong> TACAN</a></li><li class="chapter-item "><a href="../../../systems/nav_com/bdhi.html"><strong aria-hidden="true">3.3.5.</strong> BDHI</a></li><li class="chapter-item "><a href="../../../systems/nav_com/vor_ils.html"><strong aria-hidden="true">3.3.6.</strong> VOR/ILS</a></li><li class="chapter-item "><a href="../../../systems/nav_com/intercom.html"><strong aria-hidden="true">3.3.7.</strong> ICS - Intercom</a></li><li class="chapter-item "><a href="../../../systems/nav_com/com/overview.html"><strong aria-hidden="true">3.3.8.</strong> Communication Systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/nav_com/com/uhf.html"><strong aria-hidden="true">3.3.8.1.</strong> AN/ARC-159 (UHF 1) Radio</a></li><li class="chapter-item "><a href="../../../systems/nav_com/com/vuhf.html"><strong aria-hidden="true">3.3.8.2.</strong> AN/ARC-182 (V/UHF 2) Radio</a></li></ol></li><li class="chapter-item "><a href="../../../systems/nav_com/encryption.html"><strong aria-hidden="true">3.3.9.</strong> KY-28 Encryption</a></li><li class="chapter-item "><a href="../../../systems/nav_com/link4.html"><strong aria-hidden="true">3.3.10.</strong> Link 4A & C Datalink</a></li></ol></li><li class="chapter-item "><a href="../../../systems/identification_systems.html"><strong aria-hidden="true">3.4.</strong> Identification Systems</a></li><li class="chapter-item "><a href="../../../systems/hydraulics.html"><strong aria-hidden="true">3.5.</strong> Hydraulics</a></li><li class="chapter-item "><a href="../../../systems/utility.html"><strong aria-hidden="true">3.6.</strong> Utility</a></li><li class="chapter-item "><a href="../../../systems/electrics.html"><strong aria-hidden="true">3.7.</strong> Electrics</a></li><li class="chapter-item "><a href="../../../systems/lighting.html"><strong aria-hidden="true">3.8.</strong> Lighting</a></li><li class="chapter-item "><a href="../../../systems/radar/overview.html"><strong aria-hidden="true">3.9.</strong> AN/AWG-9 Weapon Control System (WCS)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/radar/interface.html"><strong aria-hidden="true">3.9.1.</strong> Interface</a></li><li class="chapter-item "><a href="../../../systems/radar/general_operation.html"><strong aria-hidden="true">3.9.2.</strong> AN/AWG-9 General Operation</a></li></ol></li><li class="chapter-item "><a href="../../../systems/tcs.html"><strong aria-hidden="true">3.10.</strong> AN/AXX-1 TCS</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/overview.html"><strong aria-hidden="true">3.11.</strong> Weapon Systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/weapon_systems/multiple_weapons_system.html"><strong aria-hidden="true">3.11.1.</strong> Multiple Weapons System</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/awru.html"><strong aria-hidden="true">3.11.2.</strong> AWRU</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/wrcs.html"><strong aria-hidden="true">3.11.3.</strong> WRCS</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/arbcs.html"><strong aria-hidden="true">3.11.4.</strong> ARBCS</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lcoss.html"><strong aria-hidden="true">3.11.5.</strong> LCOSS</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/overview.html"><strong aria-hidden="true">3.11.6.</strong> LANTIRN</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/electrics.html"><strong aria-hidden="true">3.11.6.1.</strong> Electrics</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/integrations.html"><strong aria-hidden="true">3.11.6.2.</strong> Integrations</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/modes.html"><strong aria-hidden="true">3.11.6.3.</strong> Modes</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/laser_system.html"><strong aria-hidden="true">3.11.6.4.</strong> Laser System</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/weapon_release_modes.html"><strong aria-hidden="true">3.11.6.5.</strong> Weapon Release Modes</a></li><li class="chapter-item "><a href="../../../systems/weapon_systems/lantirn/other.html"><strong aria-hidden="true">3.11.6.6.</strong> Other</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../systems/defensive_systems/overview.html"><strong aria-hidden="true">3.12.</strong> Defensive Systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/defensive_systems/countermeasures/overview.html"><strong aria-hidden="true">3.12.1.</strong> Countermeasures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/defensive_systems/countermeasures/ale_39.html"><strong aria-hidden="true">3.12.1.1.</strong> ALE-39</a></li><li class="chapter-item "><a href="../../../systems/defensive_systems/countermeasures/lau_138.html"><strong aria-hidden="true">3.12.1.2.</strong> LAU-138</a></li></ol></li><li class="chapter-item "><a href="../../../systems/defensive_systems/radar_warning_receiver.html"><strong aria-hidden="true">3.12.2.</strong> Radar Warning Receiver</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../systems/defensive_systems/alr_67.html"><strong aria-hidden="true">3.12.2.1.</strong> ALR-67</a></li><li class="chapter-item "><a href="../../../systems/defensive_systems/alr_45-50.html"><strong aria-hidden="true">3.12.2.2.</strong> ALR-45/50</a></li></ol></li><li class="chapter-item "><a href="../../../systems/defensive_systems/ecm.html"><strong aria-hidden="true">3.12.3.</strong> Electronic Countermeasures</a></li></ol></li><li class="chapter-item "><a href="../../../systems/emergency.html"><strong aria-hidden="true">3.13.</strong> Emergency</a></li></ol></li><li class="chapter-item "><a href="../../../stores/overview.html"><strong aria-hidden="true">4.</strong> Weapons & Stores</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../stores/guns.html"><strong aria-hidden="true">4.1.</strong> M61A1</a></li><li class="chapter-item "><a href="../../../stores/air_to_air/overview.html"><strong aria-hidden="true">4.2.</strong> Air to Air</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../stores/air_to_air/aim_7.html"><strong aria-hidden="true">4.2.1.</strong> AIM-7 Sparrow</a></li><li class="chapter-item "><a href="../../../stores/air_to_air/aim_9.html"><strong aria-hidden="true">4.2.2.</strong> AIM-9 Sidewinder</a></li><li class="chapter-item "><a href="../../../stores/air_to_air/aim_54.html"><strong aria-hidden="true">4.2.3.</strong> AIM-54 Phoenix</a></li></ol></li><li class="chapter-item "><a href="../../../stores/air_to_ground/overview.html"><strong aria-hidden="true">4.3.</strong> Air to Ground</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../stores/air_to_ground/weapon_settings.html"><strong aria-hidden="true">4.3.1.</strong> Air-to-Ground Weapon Settings</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/weapon_delivery.html"><strong aria-hidden="true">4.3.2.</strong> Air-to-Ground Weapon Delivery</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/zuni.html"><strong aria-hidden="true">4.3.3.</strong> Zuni Rockets</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/mk80_series.html"><strong aria-hidden="true">4.3.4.</strong> Mk-81, 82, 83, and 84 GP Bombs</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/paveways.html"><strong aria-hidden="true">4.3.5.</strong> GBU-10, 12, 16 and 24</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/rockeye.html"><strong aria-hidden="true">4.3.6.</strong> Mk-20 Rockeye</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/practice_bombs.html"><strong aria-hidden="true">4.3.7.</strong> BDU-33 Practice Bombs</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/tald.html"><strong aria-hidden="true">4.3.8.</strong> ADM-141 TALD</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/luu_2.html"><strong aria-hidden="true">4.3.9.</strong> LUU-2 Parachute Flare</a></li><li class="chapter-item "><a href="../../../stores/air_to_ground/smokewinder.html"><strong aria-hidden="true">4.3.10.</strong> Smokewinder</a></li></ol></li><li class="chapter-item "><a href="../../../stores/pods.html"><strong aria-hidden="true">4.4.</strong> Pods</a></li><li class="chapter-item "><a href="../../../stores/tanks.html"><strong aria-hidden="true">4.5.</strong> Tanks</a></li></ol></li><li class="chapter-item "><a href="../../../jester/overview.html"><strong aria-hidden="true">5.</strong> Jester</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../jester/functionality.html"><strong aria-hidden="true">5.1.</strong> Functionality</a></li><li class="chapter-item "><a href="../../../jester/navigation.html"><strong aria-hidden="true">5.2.</strong> Navigation</a></li><li class="chapter-item "><a href="../../../jester/combat/overview.html"><strong aria-hidden="true">5.3.</strong> Combat</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../jester/combat/radar.html"><strong aria-hidden="true">5.3.1.</strong> Radar</a></li><li class="chapter-item "><a href="../../../jester/combat/LANTIRN.html"><strong aria-hidden="true">5.3.2.</strong> LANTIRN</a></li><li class="chapter-item "><a href="../../../jester/combat/bombing.html"><strong aria-hidden="true">5.3.3.</strong> Air-to-Ground</a></li></ol></li><li class="chapter-item "><a href="../../../jester/other.html"><strong aria-hidden="true">5.4.</strong> Other</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/overview.html"><strong aria-hidden="true">6.</strong> Normal Procedures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/pre_start.html"><strong aria-hidden="true">6.1.</strong> Pre-Start</a></li><li class="chapter-item "><a href="../../../procedures/startup.html"><strong aria-hidden="true">6.2.</strong> Startup</a></li><li class="chapter-item "><a href="../../../procedures/taxi.html"><strong aria-hidden="true">6.3.</strong> Taxi</a></li><li class="chapter-item "><a href="../../../procedures/takeoff/takeoff.html"><strong aria-hidden="true">6.4.</strong> Takeoff</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/takeoff/checklists.html"><strong aria-hidden="true">6.4.1.</strong> Checklists</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/landing/landing.html"><strong aria-hidden="true">6.5.</strong> Landing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/landing/visual.html"><strong aria-hidden="true">6.5.1.</strong> Visual</a></li><li class="chapter-item "><a href="../../../procedures/landing/instrument.html"><strong aria-hidden="true">6.5.2.</strong> Instrument</a></li><li class="chapter-item "><a href="../../../procedures/landing/checklists.html"><strong aria-hidden="true">6.5.3.</strong> Checklists</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/shutdown.html"><strong aria-hidden="true">6.6.</strong> Shutdown</a></li><li class="chapter-item "><a href="../../../procedures/special_procedures/overview.html"><strong aria-hidden="true">6.7.</strong> Special Procedures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/special_procedures/single_engine_taxi.html"><strong aria-hidden="true">6.7.1.</strong> Single Engine Taxi</a></li><li class="chapter-item "><a href="../../../procedures/special_procedures/hot_refueling.html"><strong aria-hidden="true">6.7.2.</strong> Hot Refueling</a></li><li class="chapter-item "><a href="../../../procedures/special_procedures/scramble.html"><strong aria-hidden="true">6.7.3.</strong> Scramble</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/aim_54.html"><strong aria-hidden="true">6.8.</strong> AIM-54</a></li><li class="chapter-item "><a href="../../../procedures/aim_7.html"><strong aria-hidden="true">6.9.</strong> AIM-7</a></li><li class="chapter-item "><a href="../../../procedures/aim_9.html"><strong aria-hidden="true">6.10.</strong> AIM-9</a></li><li class="chapter-item "><a href="../../../procedures/m61a1_nose_gun_and_suu_23.html"><strong aria-hidden="true">6.11.</strong> Guns</a></li><li class="chapter-item "><a href="../../../procedures/bombs/overview.html"><strong aria-hidden="true">6.12.</strong> Bombs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/bombs/bombs_direct_delivery.html"><strong aria-hidden="true">6.12.1.</strong> Direct</a></li><li class="chapter-item "><a href="../../../procedures/bombs/bombs_dive_toss_and_laydown.html"><strong aria-hidden="true">6.12.2.</strong> Dive Toss & Dive Laydown</a></li><li class="chapter-item "><a href="../../../procedures/bombs/bombs_laydown.html"><strong aria-hidden="true">6.12.3.</strong> Laydown</a></li><li class="chapter-item "><a href="../../../procedures/bombs/bombs_loft.html"><strong aria-hidden="true">6.12.4.</strong> Loft</a></li><li class="chapter-item "><a href="../../../procedures/bombs/bombs_labs_tgt_find_offset.html"><strong aria-hidden="true">6.12.5.</strong> LABS, TGT FIND & OFFSET</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/zunis.html"><strong aria-hidden="true">6.13.</strong> Zunis</a></li><li class="chapter-item "><a href="../../../procedures/ky_28_operations.html"><strong aria-hidden="true">6.14.</strong> KY-28 Operations</a></li><li class="chapter-item "><a href="../../../procedures/LANTIRN.html"><strong aria-hidden="true">6.15.</strong> LANTIRN</a></li><li class="chapter-item "><a href="../../../procedures/bit_tests/overview.html"><strong aria-hidden="true">6.16.</strong> Built-In-Test Procedures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../procedures/bit_tests/radar_air_to_air.html"><strong aria-hidden="true">6.16.1.</strong> Radar Air-to-Air BIT Procedures</a></li><li class="chapter-item "><a href="../../../procedures/bit_tests/radar_air_to_ground.html"><strong aria-hidden="true">6.16.2.</strong> Radar Air-to-Ground BIT Procedures</a></li><li class="chapter-item "><a href="../../../procedures/bit_tests/wrcs.html"><strong aria-hidden="true">6.16.3.</strong> WRCS BIT Procedures</a></li><li class="chapter-item "><a href="../../../procedures/bit_tests/navigation_tests.html"><strong aria-hidden="true">6.16.4.</strong> Navigation Test Procedures</a></li><li class="chapter-item "><a href="../../../procedures/bit_tests/optical_sight.html"><strong aria-hidden="true">6.16.5.</strong> Optical Sight BIT Procedure</a></li></ol></li><li class="chapter-item "><a href="../../../procedures/mission_planning.html"><strong aria-hidden="true">6.17.</strong> Mission Planning</a></li></ol></li><li class="chapter-item "><a href="../../../emergency_procedures/overwiew.html"><strong aria-hidden="true">7.</strong> Emergency Procedures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../emergency_procedures/in_flight.html"><strong aria-hidden="true">7.1.</strong> Inflight</a></li><li class="chapter-item "><a href="../../../emergency_procedures/landing.html"><strong aria-hidden="true">7.2.</strong> Landing</a></li><li class="chapter-item "><a href="../../../emergency_procedures/supplement.html"><strong aria-hidden="true">7.3.</strong> Supplement</a></li></ol></li><li class="chapter-item expanded "><a href="../../../dcs/overview.html"><strong aria-hidden="true">8.</strong> DCS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../dcs/controls.html"><strong aria-hidden="true">8.1.</strong> Controls</a></li><li class="chapter-item "><a href="../../../dcs/special_options.html"><strong aria-hidden="true">8.2.</strong> Special Options</a></li><li class="chapter-item "><a href="../../../dcs/embedded_manual.html"><strong aria-hidden="true">8.3.</strong> Embedded Manual</a></li><li class="chapter-item "><a href="../../../dcs/bombing_computer.html"><strong aria-hidden="true">8.4.</strong> Bombing Computer</a></li><li class="chapter-item "><a href="../../../dcs/grease_pencil.html"><strong aria-hidden="true">8.5.</strong> Grease Pencil</a></li><li class="chapter-item "><a href="../../../dcs/virtual_browser.html"><strong aria-hidden="true">8.6.</strong> Virtual Browser</a></li><li class="chapter-item "><a href="../../../dcs/recorders.html"><strong aria-hidden="true">8.7.</strong> Recorders</a></li><li class="chapter-item "><a href="../../../dcs/tape_player.html"><strong aria-hidden="true">8.8.</strong> Tape Player</a></li><li class="chapter-item "><a href="../../../dcs/character.html"><strong aria-hidden="true">8.9.</strong> Character</a></li><li class="chapter-item "><a href="../../../dcs/mission_editor.html"><strong aria-hidden="true">8.10.</strong> Mission Editor</a></li><li class="chapter-item "><a href="../../../dcs/training_missions.html"><strong aria-hidden="true">8.11.</strong> Training Missions</a></li><li class="chapter-item expanded "><a href="../../../dcs/modding/overview.html"><strong aria-hidden="true">8.12.</strong> Modding</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../dcs/modding/jester/overview.html"><strong aria-hidden="true">8.12.1.</strong> Jester</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../dcs/modding/jester/voice_files.html"><strong aria-hidden="true">8.12.1.1.</strong> Voice Files</a></li><li class="chapter-item expanded "><a href="../../../dcs/modding/jester/lua_api.html" class="active"><strong aria-hidden="true">8.12.1.2.</strong> Lua API</a></li><li class="chapter-item "><a href="../../../dcs/modding/jester/wheel_ui.html"><strong aria-hidden="true">8.12.1.3.</strong> Wheel UI</a></li><li class="chapter-item "><a href="../../../dcs/modding/jester/dialog_ui.html"><strong aria-hidden="true">8.12.1.4.</strong> Dialog UI</a></li></ol></li><li class="chapter-item "><a href="../../../dcs/modding/liveries.html"><strong aria-hidden="true">8.12.2.</strong> Liveries</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../links/links.html"><strong aria-hidden="true">9.</strong> Links</a></li><li class="chapter-item "><a href="../../../abbreviations.html"><strong aria-hidden="true">10.</strong> Abbreviations</a></li><li class="chapter-item "><a href="../../../imprint.html"><strong aria-hidden="true">11.</strong> Imprint</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">
            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="hb_light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="hb_dark">Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="pdf">(PDF)</button></li>

                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Heatblur F-14 Tomcat</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this manual" aria-label="Print this manual">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/OfficialDSplayer/f-14-manual/releases" title="PDF version" aria-label="PDF version">
                            <i id="pdf-button" class="fa fa-file-pdf-o"></i>
                        </a>
                        <a href="https://github.com/OfficialDSplayer/f-14-manual" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/OfficialDSplayer/f-14-manual/edit/master/src/dcs/modding/jester/lua_api.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this manual ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="lua-api"><a class="header" href="#lua-api">Lua API</a></h1>
<p>This gives a quick overview of Lua, which Jester is primarily coded in; and
explains the Jester API itself.</p>
<h2 id="get-started-with-lua"><a class="header" href="#get-started-with-lua">Get started with Lua</a></h2>
<p>Useful links:</p>
<ul>
<li>Lua Doc: <a href="https://www.lua.org/docs.html">https://www.lua.org/docs.html</a></li>
</ul>
<h3 id="tables"><a class="header" href="#tables">Tables</a></h3>
<p>Lua in itself is a fairly simple language with not too many features. It
primarily revolves around the use of tables. Tables can be compared to arrays,
lists and dictionaries, or maps.</p>
<pre><code class="language-lua">-- dictionary
local person = {
  name = "John",
  age = 20,
}

-- array/list
local fruits = { "Orange", "Apple", "Lemon" }
</code></pre>
<p>Arrays also implicitly decay to dictionaries with ascending keys <code>1</code>, <code>2</code>, etc.</p>
<p>Access can be either in a lookup-style <code>person["age"] = 21</code>, or like fields
<code>person.age = 21</code>.</p>
<p>In Lua, indices start <strong>counting at 1:</strong></p>
<pre><code class="language-lua">print(fruits[1]) -- Orange
</code></pre>
<p>The length of a table can be accessed using <code>#</code>:</p>
<pre><code class="language-lua">-- appending to a table
fruits[#fruits + 1] = "Cherry"
</code></pre>
<p>Anything not explicitly set is given the value <code>nil</code>.</p>
<h3 id="syntax-example"><a class="header" href="#syntax-example">Syntax example</a></h3>
<pre><code class="language-lua">function ageCheck(name, age)
  if age &lt; 18 then
    print("Sorry", name)
  else
    print("Okay", name)
  end
end
</code></pre>
<h3 id="classes"><a class="header" href="#classes">Classes</a></h3>
<p>Lua itself does not provide classes. However, we created a framework to add
class-like structures to Lua:</p>
<pre><code class="language-lua">local Class = require('base.Class')

local Person = Class()
Person.name = nil -- fields
Person.age = nil

function Person:Constructor(name, age)
  self.name = name
  self.age = age
end

Person:Seal() -- Prevent adding/removing more values/functions to it
</code></pre>
<p>The framework also supports inheritance:</p>
<pre><code class="language-lua">local Class = require('base.Class')
local Behavior = require('base.Behavior')

local AssistAAR = Class(Behavior) -- inherits from Behavior
</code></pre>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<p>Unfortunately, we do not have any Lua debugger setup. One has to rely on caveman
debugging with prints:</p>
<pre><code class="language-lua">print("hello world")
print("Person:", person)
print("Check:", foo, bar, baz)
</code></pre>
<p>Which can then be seen in console. Note that it might be necessary to
periodically call <code>io.flush()</code> to actually see the prints.</p>
<p>We also provide a Lua playground in <code>WizardJester.lua</code>, which is always executed
directly on startup.</p>
<p>It is also possible to edit Lua files while DCS runs, without restarting the
game. Simply edit a LUA file and then reload the DCS mission with
<kbd>CTRL</kbd>+<kbd>R</kbd> and the new Lua file will be effective.</p>
<h2 id="jester-api"><a class="header" href="#jester-api">Jester API</a></h2>
<p>Jesters logic is divided into 6 layers of abstraction:</p>
<ul>
<li>Intention (<em>WIP</em>)</li>
<li>Plan (<em>WIP</em>)</li>
<li>Situation</li>
<li>Behavior</li>
<li>Task</li>
<li>Action</li>
</ul>
<p>Code is placed in the Mod-Folder, for example:</p>
<p><code>G:\DCS World OpenBeta\Mods\aircraft\F-4E\Jester</code></p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>As an example that touches most of the layers, we want to create a feature that
lets Jester report the current speed every couple of seconds during flight.</p>
<p>Therefore, we start with a Situation. A situation needs an activation and
deactivation <strong>Condition:</strong></p>
<pre><code class="language-lua">-- Airborne.lua
local Class = require 'base.Class'
local Condition = require 'base.Condition'

local Airborne = {}
Airborne.True = Class(Condition)
Airborne.False = Class(Condition)

function IsAirborne()
  -- details on observations later
  return GetJester().awareness:GetObservation("airborne") or false
end

function Airborne.True:Check()
  return IsAirborne() -- activation condition
end

function Airborne.False:Check()
  return not IsAirborne() -- deactivation condition
end

Airborne.True:Seal()
Airborne.False:Seal()
return Airborne
</code></pre>
<p>Activation and deactivation conditions do not necessarily have to be the same.</p>
<p>Now, we can use this condition in our <code>Flight</code> situation and add our desired
behavior:</p>
<pre><code class="language-lua">-- Flight.lua
local Class = require 'base.Class'
local Situation = require 'base.Situation'
local Airborne = require 'conditions.Airborne'
local ReportSpeed = require 'behaviors.ReportSpeed'
-- behavior will be defined in the next step

local Flight = Class(Situation)

-- it simply expects a class with a :Check() method
Flight:AddActivationConditions(Airborne.True:new())
Flight:AddDeactivationConditions(Airborne.False:new())

function Flight:OnActivation()
  self:AddBehavior(ReportSpeed) -- start our behavior
end

function Flight:OnDeactivation()
  self:RemoveBehavior(ReportSpeed) -- stop our behavior
end

Flight:Seal()
return Flight
</code></pre>
<p>The situation also has to be registered in <code>F-4E_WSO.lua</code> (<em>WIP</em>):</p>
<pre><code class="language-lua">-- in F-4E_WSO.lua
...
function CreateF4E_WSOJester()
  ...
  wso::AddSituations(Flight:new())
  ...
end
</code></pre>
<p>Now, we can define our behavior:</p>
<pre><code class="language-lua">-- ReportSpeed.lua
local Class = require('base.Class')
local Behavior = require('base.Behavior')
local SaySpeed = require('tasks.common.SaySpeed')
-- Task will be defined in the next step

local ReportSpeed = Class(Behavior)

function ReportSpeed:Constructor()
  Behavior.Constructor(self)
end

function ReportSpeed:Tick()
  -- this is called periodically
  local task = SaySpeed:new(...) -- access to speed explained later
  GetJester():AddTask(task)
end

ReportSpeed:Seal()
return ReportSpeed
</code></pre>
<p>Now, this would let Jester say something on every tick, a bit too verbose. To
improve on this, the Urge-system has been created. We can wrap our task in an
<code>Urge</code> and it will only be called on a set interval (which is automatically
applied some variance based on Jesters fixation and stress level):</p>
<pre><code class="language-lua">-- ReportSpeed.lua
local Class = require('base.Class')
local Behavior = require('base.Behavior')
local Urge = require('base.Urge') -- added
local StressReaction = require('base.StressReaction') -- added
local SaySpeed = require('tasks.common.SaySpeed')

local ReportSpeed = Class(Behavior)

function ReportSpeed:Constructor()
  Behavior.Constructor(self)

  -- logic of the behavior
  local say_speed = function ()
    -- very simple in this case,
    -- but could also trigger multiple tasks based on conditions, if desired
    local task = SaySpeed:new(...)
    GetJester():AddTask(task)
    return {task}
  end

  -- define the urge
  self.urge = Urge:new({
    time_to_release = s(10), -- baseline interval (10s now)
    on_release_function = say_speed, -- what to execute
    stress_reaction = StressReaction.ignorance, -- how important is this to Jester
  })
  self.urge:Restart() -- start it
end

function ReportSpeed:Tick()
  -- we could also modify the urge now, if desired
  -- for example increasing the stress level
  self.urge:Tick() -- tick it
end

ReportSpeed:Seal()
return ReportSpeed
</code></pre>
<p>The next step is to create the actual Task that will take care of reporting the
given speed:</p>
<pre><code class="language-lua">-- SaySpeed.lua
local Class = require('base.Class')
local Task = require('base.Task')
local SayAction = require('actions.SayAction')

local SaySpeed = Class(Task)

function SaySpeed:Constructor(speed)
  Task.Constructor(self)

  local on_activation = function()
    if speed &lt; kt(500) then
      -- see PhrasesList.txt for all supported voice lines
      self:AddAction(SayAction('awareness/wereslow'))
    else
      self:AddAction(SayAction('awareness/werefast'))
    end
  end

  self:AddOnActivationCallback(on_activation)
end

SaySpeed:Seal()
return SaySpeed
</code></pre>
<p>The last part is the final <code>Action</code>, in our case <code>SayAction</code>. Actions are
usually very generic and basic. In most cases, the existing <code>SayAction</code> will be
all thats needed. Refer to <code>SayAction.lua</code> for how it works.</p>
<p>If a behavior has no extra need for a specific task and just wants to say a
phrase, one can also directly use <code>SayTask</code>:</p>
<pre><code class="language-lua">-- in a Behaviors logic
...
local task = SayTask:new('misc/outoffuel')
GetJester():AddTask(task)
...
</code></pre>
<h3 id="lreal-and-units"><a class="header" href="#lreal-and-units">LReal and units</a></h3>
<p>A very common need is to work with real values and units, such as speed or time.
Therefore, we have <code>LReal</code>s, with units defined in <code>LUnit</code>.</p>
<pre><code class="language-lua">local time = min(15)
local speed = kt(500)
local fuel = lb(12000)

if time &gt; s(10) then
  print("foo")
end

time = time - s(40)
</code></pre>
<p>Careful when doing scalar operations:</p>
<pre><code class="language-lua">-- correct
time *= 2

-- incorrect
time *= s(2)
</code></pre>
<p>Latter would result in an invalid <code>LReal</code>, which can be checked for using
<code>time:IsValid()</code>.</p>
<p>If necessary, values can be converted to another unit:</p>
<pre><code class="language-lua">local timeInSeconds = time:ConvertTo(s)
print("Time:", timeInSeconds)
</code></pre>
<p><code>time.value</code> would access the raw underlying number.</p>
<h3 id="accessing-properties"><a class="header" href="#accessing-properties">Accessing properties</a></h3>
<p>Lua has full access to all <code>Property</code>s defined in our components and can access
them easily with <code>GetProperty</code>:</p>
<pre><code class="language-lua">function GetTotalFuelQuantity()
  local gauge_readout = GetProperty(
    "/Pilot Fuel Quantity Indicator/Fuel Meter", -- path
    "Internal Fuel Quantity Indication" -- property name
  ).value

  return gauge_readout or lb(10000)
end
</code></pre>
<p><code>GetProperty</code> expects the full path to the component within the component-tree
(that are all names of parent components), they must start with <code>/</code> to
indicate an absolute path.</p>
<p>The returned value is a wrapper <code>Property</code> object. Access to the underlying
value (in this case a <code>LReal</code> with unit <code>Pounds</code>) is given by
<code>GetProperty(...).value</code>.</p>
<h3 id="observations-and-senses"><a class="header" href="#observations-and-senses">Observations and Senses</a></h3>
<p>Additionally to direct property access, Jester has an Observation-System. The
system allows to make frequently used data accessible in an easy way, or also to
provide more complex data, i.e. coming from the DCS SDK.</p>
<p>Observations are part of <code>Sense</code>s, of which Jester has several (eyes, ears, …).
As of now, most of them are <em>WIP</em>.</p>
<pre><code class="language-lua">local isAirborne = GetJester().awareness:GetObservation("airborne") or false
</code></pre>
<h2 id="interactions"><a class="header" href="#interactions">Interactions</a></h2>
<p>One key aspect of Jester is that he can interact with the cockpit by clicking
switches, buttons and turning knobs.</p>
<p>Therefore, the API offers two approaches.</p>
<h3 id="component-interactions"><a class="header" href="#component-interactions">Component Interactions</a></h3>
<p>The preferred way to interact with the cockpit is via the component system.</p>
<p>To allow interaction, a manipulator has to be registered at <code>F_4E_WSO_Cockpit.lua</code>:</p>
<pre><code class="language-lua">-- ChaffMode: OFF, SGL, MULT, PROG
self:AddManipulator(
  "Chaff Mode",
  {component_path = "/WSO Cockpit/WSO Left Console/AN_ALE-40 CCU/Chaff Mode Knob"}
)
</code></pre>
<p>After that, it can easily be interacted with, for example:</p>
<pre><code class="language-lua">task:AddAction(SwitchAction:new("Chaff Mode", "MULT"))
-- or in short
task:Click("Chaff Mode", "MULT")
</code></pre>
<p>or reading its current value:</p>
<pre><code class="language-lua">local cockpit = GetJester():GetCockpit()
local chaff_mode = cockpit:GetManipulator("Chaff Mode"):GetState()
</code></pre>
<h3 id="raw-interactions"><a class="header" href="#raw-interactions">Raw Interactions</a></h3>
<p>If the desired switch does not support the component interface yet,
one can instead fall back on a raw interface that invokes DCS commands directly,
as if the player would have triggered a bind manually.</p>
<pre><code class="language-lua">-- sends value 1 via command WSO_EJECT_INSTANT to device EJECTION_SEAT_SYSTEM
ClickRaw(devices.EJECTION_SEAT_SYSTEM, device_commands.WSO_EJECT_INSTANT, 1)

-- sends the value corresponding to position 2 on a 7-position knob
ClickRawKnob(devices.HUD_AN_ASG_26, device_commands.HUD_SelectHUDMode, 2, 7)
</code></pre>
<p>See <code>devices.lua</code> for all available devices and likewise <code>command_defs.lua</code> for
the commands.</p>
<p>In general, Knobs and 2-pos switches use the range <code>[0, 1]</code> for values, while
3-pos switches often (but not always) use <code>[-1, +1]</code>. For 3-pos switches <code>-1</code> is
usually used to move a 3-pos switch down, <code>+1</code> to move it up - but some switches
have a different orientation. See <code>default.lua</code> and <code>clickabledata.lua</code> to learn
more about a specific switch and how it reacts to values.</p>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<p>Next to clicking switches, Jester can react to events send either from C++ or
also from within Lua. The system follows a simple observer/listener pattern:</p>
<pre><code class="language-lua">ListenTo("go_silent", function(task)
  task:Click("Radar Power", "STBY")
end)
</code></pre>
<p>with:</p>
<pre><code class="language-lua">if is_aar then
  DispatchEvent("go_silent")
end
</code></pre>
<h2 id="task-api"><a class="header" href="#task-api">Task API</a></h2>
<p>A core aspect of writing logic for Jester revolves around using the <code>Task</code> class.
Tasks consist of a sequence of <code>Action</code>s. A task can be paused, resumed or cancelled entirely by
the system if necessary.</p>
<p>Actions are, by design, executed asynchronously. Executing a click will take some time and
not execute instantly. In particular, adding a click action to a task will not block the code,
it simply gets added to the chain of actions to execute eventually.</p>
<p>This concept is similar to Future-APIs in other languages and <code>Task</code> offers a fluent-API to deal
with it conveniently.</p>
<p>Consider the following example:</p>
<pre><code class="language-lua">local task = Task:new()
task:Roger()
  :Click("Radar Power", "OPER")
  :Wait(min(4))
  :Click("Screen Mode", "radar")
  :Say("phrases/radar_ready")
  :Then(function()
    self.scan_for_bandits = true
  end)
</code></pre>
<p>Among other functions, the API offers:</p>
<ul>
<li><code>AddAction</code> - any <code>Action</code>, basis for the API</li>
<li><code>Then</code> - anonymous function</li>
<li><code>Wait</code> - time</li>
<li><code>WaitUntil</code> - predicate</li>
<li><code>Say</code> - phrase</li>
<li><code>Roger</code></li>
<li><code>CantDo</code></li>
<li><code>Click</code> - name, state</li>
<li><code>ClickFast</code> - name, state</li>
<li><code>ClickShort</code> - name, state</li>
<li><code>ClickShortFast</code> - name, state</li>
</ul>
<p>Refer to <code>Task.lua</code> for details.</p>
<h2 id="ui"><a class="header" href="#ui">UI</a></h2>
<p>Jester provides two types of user interfaces. A wheel with selectable options
and a dialog with questions and selectable answers that are shown on demand. See
<a href="wheel_ui.html">Wheel UI</a> and <a href="dialog_ui.html">Dialog UI</a> for more.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Navigation button at bottom -->
                            <a rel="prev" href="../../../dcs/modding/jester/voice_files.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i><span class="nav-chapters-text">Prev</span>
                            </a>

                            <a rel="next prefetch" href="../../../dcs/modding/jester/wheel_ui.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                    <nav class="nav-wide-wrapper" aria-label="Page navigation">
                            <!-- Navigation button at bottom -->
                            <a rel="prev" href="../../../dcs/modding/jester/voice_files.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i><span class="nav-chapters-text">Prev</span>
                            </a>
                            <!-- Navigation button on the left, not displayed, but needed for Aria nav -->
                            <a rel="prev" href="../../../dcs/modding/jester/voice_files.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-left"></i>
                            </a>

                            <!-- Navigation button at bottom -->
                            <a rel="next prefetch" href="../../../dcs/modding/jester/wheel_ui.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i><span class="nav-chapters-text">Next</span>
                            </a>
                            <!-- Navigation button on the right, not displayed, but needed for Aria nav -->
                            <a rel="next prefetch" href="../../../dcs/modding/jester/wheel_ui.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-right"></i>
                            </a>
                    </nav>
                </div>
            </div>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../../js/jquery-3.7.1.min.js"></script>
        <script src="../../../js/extra.js"></script>


    </div>
    </body>
</html>